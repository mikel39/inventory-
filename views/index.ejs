<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inventory</title>
  </head>
  <body>
    <section>
      <div>
        <form action="/" method="GET">
          <fieldset>
            <label for="limit">Limit</label>
            <input
              type="number"
              name="limit"
              id="limit"
              value="<%= settings.limit %>"
            />
          </fieldset>
          <fieldset>
            <label for="order">Order by</label>
            <select name="order" id="order">
              <option value="df">Default</option>
              <option value="rating">Rating</option>
              <option value="title">Alphabetically</option>
              <option value="release_date">Date</option>
              <option value="pages">Pages</option>
            </select>
          </fieldset>
          <fieldset>
            <label for="author">Author</label>
            <select name="author" id="author">
              <option value="df">All</option>
              <% authors.map((author) => { %>
              <option value="<%= author.id %>"><%= author.tag %></option>
              <% }) %>
            </select>
          </fieldset>
          <fieldset>
            <legend>Genres</legend>
            <% genres.map((gn) => { %>
            <label>
              <input type="checkbox" name="genre" value="<%= gn.id %>" <%=
              settings.genre.includes(String(gn.id)) ? 'checked' : '' %> /> <%=
              gn.tag %>
            </label>
            <% }) %>
          </fieldset>

          <button type="submit">Apply</button>
        </form>
      </div>
      <div>
        <ul>
          <% books.map((book) => { %>
          <li>
            <a href="/<%= book.slug %>">
              <span><%= book.title %></span>
              <span><%= book.rating.toFixed(1) %></span>
              <span><%= book.pages %></span>
            </a>
          </li>
          <% }) %>
        </ul>
      </div>
    </section>
  </body>
</html>
